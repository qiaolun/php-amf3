--TEST--
ZendAMF compatibility test 9
--SKIPIF--
<?php
	if (!extension_loaded('amf3')) die('skip: amf3 extension not available');
?>
--FILE--
<?php

$data = unserialize('a:10:{s:7:"channel";s:8:"retrieve";s:4:"time";i:1593673494;s:10:"timeOffset";s:5:"28800";s:11:"gameVersion";s:2:"tw";s:5:"today";i:1593619200;s:6:"config";O:8:"stdClass":1:{s:12:"sendGiftTime";i:0;}s:4:"data";O:8:"stdClass":1:{s:5:"guild";a:2:{s:7:"members";a:1:{i:209796;O:8:"stdClass":18:{s:5:"snsid";s:17:"10203684180524557";s:3:"uid";s:6:"209796";s:5:"level";s:3:"121";s:4:"name";s:9:"刘海大";s:7:"picture";s:63:"http://graph.facebook.com/10203684180524557/picture?type=square";s:7:"guildId";i:1160;s:18:"guildCoolDownTimer";s:1:"0";s:12:"greenDiamond";s:1:"0";s:12:"staminaPoint";i:0;s:11:"pinkDiamond";s:1:"0";s:13:"goldenDiamond";s:1:"0";s:8:"bookmark";s:1:"0";s:4:"role";s:5:"owner";s:8:"joinTime";s:10:"1593672503";s:15:"adventurePoints";s:1:"0";s:15:"adventureOrigin";s:1:"0";s:4:"bean";s:1:"0";s:5:"rtmId";s:6:"209796";}}s:13:"currentMember";r:12;}}s:16:"increaseRepLevel";i:0;s:14:"continuous_day";s:1:"2";s:5:"boxId";s:8:"505a4551";}');

$out = amf3_encode($data);
echo bin2hex($out);


--EXPECT--
09010f6368616e6e656c061172657472696576650974696d650541d7bf61c58000001574696d654f6666736574060b32383830301767616d6556657273696f6e060574770b746f6461790541d7bf2cc00000000d636f6e6669670a0b011973656e644769667454696d6504000109646174610a010b6775696c6409010f6d656d626572730903010a010b736e7369640623313032303336383431383035323435353707756964060d3230393739360b6c6576656c0607313231096e616d650613e58898e6b5b7e5a4a70f70696374757265067f687474703a2f2f67726170682e66616365626f6f6b2e636f6d2f31303230333638343138303532343535372f706963747572653f747970653d7371756172650f6775696c644964048908256775696c64436f6f6c446f776e54696d657206033019677265656e4469616d6f6e640632197374616d696e61506f696e7404001770696e6b4469616d6f6e6406321b676f6c64656e4469616d6f6e64063211626f6f6b6d61726b063209726f6c65060b6f776e6572116a6f696e54696d650615313539333637323530331f616476656e74757265506f696e747306321f616476656e747572654f726967696e0632096265616e06320b72746d49640620011b63757272656e744d656d6265720a0a010121696e6372656173655265704c6576656c04001d636f6e74696e756f75735f6461790603320b626f7849640611353035613435353101
